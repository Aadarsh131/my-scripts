<div class="markdown prose w-full break-words dark:prose-invert dark"><p>This script is designed to reduce the file size of scanned PDFs by processing their pages. It offers the following functionalities:</p><ol><li><p><strong>Interactive Cropping</strong>:</p><ul><li>Allows users to manually define crop areas for each page of the PDF using a graphical interface. The selected coordinates can be saved for reuse.</li></ul></li><li><p><strong>Image Processing for Compression</strong>:</p><ul><li>Converts PDF pages to grayscale images, resizes them, and compresses them to reduce file size.</li><li>Offers control over the <strong>image quality</strong> and <strong>DPI</strong> (dots per inch) for resizing.</li></ul></li><li><p><strong>Target File Size Adjustment</strong>:</p><ul><li>Automatically adjusts the compression settings (quality and DPI) to achieve an approximate target file size in MB while ensuring the DPI does not drop below 160.</li></ul></li><li><p><strong>Optional Cropping</strong>:</p><ul><li>Can crop images based on predefined or interactively defined coordinates to further reduce file size.</li></ul></li><li><p><strong>File Handling</strong>:</p><ul><li>Allows saving and loading cropping coordinates as JSON files for reusability.</li><li>Creates a new reduced-size PDF from the processed images.</li></ul></li></ol><h3>How It Works:</h3><ol><li>The script first checks if cropping is enabled. If so, it either loads pre-defined crop coordinates or prompts the user to define them interactively.</li><li>The PDF pages are processed into images:<ul><li>Cropped (if enabled).</li><li>Converted to grayscale and resized with specified quality and DPI.</li></ul></li><li>Images are reassembled into a new PDF.</li><li>If the target file size is specified, the script iteratively adjusts quality and DPI settings to meet the target size within a small margin.</li></ol><p>This tool is useful for optimizing large scanned PDFs while preserving readability and reducing storage space.</p></div>